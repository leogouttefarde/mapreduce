
1.1

1. Que signifie Map input records ? Et Map output records ?
"Map input records" correspond au nombre de lignes du fichier d'entrée à traiter.
"Map output records" correspond au nombre de mots du fichier d'entrée.

2. Quel est le lien entre Map output records et Reduce input records ?
"Reduce input records" correspond au nombre de mots fournis à l'étape reduce.
Ainsi il s'agit du nombre total de mots (Map output records) moins le nombre de mots retirés lors de l'étape combine.

3. Que signifie Reduce input groups ?
Reduce input groups correspond au nombre de mots différents présents à l'étape reduce.



1.2
Question : quel est le chemin, dans HDFS, vers votre répertoire personel ?

=> C'est /user/lgout


1.3

Le nombre de "splits" lus sur HDFS est 5. Ce compteur correspond au nombre de de fichiers d'entrée.


1.4

1)
Il n'y a aucune différence entre les deux répertoires de résultats.
C'est normal car un combiner est un mini-reducer placé à la sortie du map et qui permet de réduire le nombre de couples sans affecter le résultat.
En effet la correction du programme ne doit pas en dépendre.

2)
Les valeurs "Combine input records" et "Combine output records" permettent de vérifier que le combiner a bien fonctionné car elles indiquent le nombre de valeurs traitées par le combiner.
De plus on observe que la valeur de "Reduce input records" a bien été réduite avec le combiner.

3)
La différence entre "Combine input records" et "Combine output records" correspond au nombre de valeurs qu'il a été possible de retirer en les traiant avec le combiner (et donc au gain obtenu).
En effet on peut facilement vérifier que cette différence est égale à la différence entre les valeurs "Reduce input records" avec et sans combiner.

Sans combiner
Reduce input records=421739


Avec combiner

Combine input records=421739
Combine output records=85301
Reduce input records=85301

On voit bien que "Reduce input records" sans combiner est égal à "Combine input records" avec combiner.
Avec le combiner, "Reduce input records" est égal à "Combine output records" et donc la différence précisée précédemment est bien égale (différence de 336438).


Mot le plus fréquent dans "Les misérables"
Le mot le plus utilisé dans "Les misérables" est 'de' qui est utilisé 16757 fois.



2.2

Question préliminaire :

Pour pouvoir utiliser un combiner, il faudrait des couples avec la clé fournie par la classe Country et une valeur contenant le tag concerné et son nombre d'occurrences.
Un exemple de couple pourrait être 'FR' => ('france',563).
En Java on utilisera le type Text pour les clés et le type StringAndInt pour les valeurs.


Tags les plus utilisés en France :
Avec K = 5, une exécution MapReduce sur le fichier /data/flickr.txt donne le résultat suivant pour la France : FR	[france : 563, españa : 54, bretagne : 60, squaredcircle : 63, spain : 104]
On observe que les tags les plus utilisés en France sont 'france', 'spain', 'squaredcircle', 'bretagne' et 'españa'.

Question finale :
Dans le reducer, nous avons une structure en mémoire dont la taille dépend du nombre
de tags distincts : on ne le connaît pas a priori, et il y en a potentiellement beaucoup. Est-ce un
problème ?

Dans le reducer, nous avons une structure en mémoire dont la taille dépend du nombre
de tags distincts. C'est un problème car dans un contexte de traitement d'un grand nombre de données (big data) par exemple la mémoire sera insuffisante.
Ainsi il faudrait pouvoir utiliser autre chose qu'une simple structure HashMap, afin d'éliminer les tags le moins présents dès que possible.




3)



